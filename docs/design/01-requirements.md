📋 감성 이커머스 플랫폼 요구사항 정의서


유저 시나리오 기반 기능 정의 및 요구사항 명세

============================================================
1. 유저 시나리오 기반 기능 정의
   ============================================================

[시나리오 1] 회원 가입 후 상품 탐색

설명:
신규 사용자가 회원가입을 하고 로그인 후 상품을 탐색한다.

흐름:
1. 사용자는 회원가입을 한다.
2. 로그인 후 자신의 정보를 조회한다.
3. 상품 목록을 조회한다.
4. 특정 브랜드 상품만 필터링하여 조회한다.
5. 상품 상세 정보를 확인한다.

관련 기능:
- 회원가입
- 내 정보 조회
- 상품 목록 조회 (페이징)
- 브랜드 필터링
- 상품 상세 조회


[시나리오 2] 관심 상품 저장 (좋아요)

설명:
사용자는 마음에 드는 상품을 좋아요로 저장하고, 나중에 다시 확인한다.

흐름:
1. 상품 상세 페이지 조회
2. 좋아요 등록
3. 좋아요 목록 조회
4. 좋아요 취소

관련 기능:
- 상품 좋아요 등록
- 상품 좋아요 취소
- 내가 좋아요한 상품 목록 조회

핵심 제약:
- 동일 상품에 중복 좋아요 불가
- 좋아요 취소 시 likes_count 감소


[시나리오 3] 장바구니 담기 및 관리

설명:
사용자는 관심 상품을 장바구니에 담고, 수량을 조절하거나 삭제한다.

흐름:
1. 상품 상세 페이지에서 장바구니 담기
2. 장바구니 목록 조회
3. 수량 변경
4. 장바구니에서 삭제

관련 기능:
- 장바구니 담기
- 장바구니 목록 조회
- 장바구니 수량 변경
- 장바구니 삭제

핵심 제약:
- 동일 상품 중복 담기 시 수량 합산
- 장바구니 최대 상품 개수: 100개


[시나리오 4] 상품 주문

설명:
사용자가 원하는 상품을 주문한다.

흐름:
1. 상품 상세 조회
2. 주문 요청
3. 재고 확인
4. 주문 생성
5. 주문 목록 조회
6. 단일 주문 상세 조회

관련 기능:
- 주문 생성
- 주문 목록 조회 (기간 필터)
- 단일 주문 상세 조회

핵심 제약:
- 재고 부족 시 주문 실패
- 주문 생성과 재고 차감은 하나의 트랜잭션으로 처리
- 주문 시점의 상품 정보는 스냅샷으로 저장
- 사용자는 PENDING 상태의 주문을 취소할 수 있다.
- 주문 취소 시 재고가 복구된다.


[시나리오 5] 관리자 상품 및 주문 관리

설명:
관리자는 브랜드와 상품을 등록 및 관리하고, 주문을 조회한다.

흐름:
1. 브랜드 등록
2. 브랜드 목록 조회
3. 상품 등록
4. 상품 상세 조회
5. 상품 정보 수정
6. 브랜드 삭제 시 해당 브랜드 상품 함께 삭제
7. 주문 목록 조회
8. 단일 주문 상세 조회
9. 주문 승인

관련 기능:
- 브랜드 CRUD
- 상품 CRUD (상세 조회 포함)
- 주문 목록 조회
- 단일 주문 상세 조회
- 주문 승인 (PENDING → CONFIRMED)

제약 조건:
- 상품 등록 시 존재하는 브랜드만 선택 가능
- 상품 수정 시 브랜드 변경 불가
- 삭제는 soft delete 정책 적용


============================================================
2. 요구사항 명세
   ============================================================

[기능 요구사항]

회원:
- 사용자는 회원가입을 할 수 있다.
- 사용자는 자신의 정보를 조회할 수 있다.
- 사용자는 비밀번호를 변경할 수 있다.

상품 조회:
- 사용자는 전체 상품 목록을 조회할 수 있다.
- 사용자는 브랜드로 필터링할 수 있다.
- 상품 목록은 페이징 처리된다.
- 정렬 기준은 최소 latest를 지원한다.

좋아요:
- 사용자는 상품에 좋아요를 등록할 수 있다.
- 동일 상품에 중복 좋아요는 허용되지 않는다.
- 사용자는 좋아요를 취소할 수 있다.
- 사용자는 자신이 좋아요한 상품 목록을 조회할 수 있다.

장바구니:
- 사용자는 상품을 장바구니에 담을 수 있다.
- 사용자는 장바구니 목록을 조회할 수 있다.
- 사용자는 장바구니 상품의 수량을 변경할 수 있다.
- 사용자는 장바구니에서 상품을 삭제할 수 있다.
- 동일 상품 중복 담기 시 수량이 합산된다.

주문:
- 사용자는 상품을 주문할 수 있다.
- 주문 시 재고를 확인해야 한다.
- 주문 성공 시 재고가 차감된다.
- 주문 성공 시 장바구니 데이터가 삭제된다.
- 사용자는 자신의 주문 목록을 조회할 수 있다.
- 사용자는 단일 주문 상세 정보를 조회할 수 있다.
- 사용자는 PENDING 상태의 주문을 취소할 수 있다.
- 주문 취소 시 재고가 복구된다.

관리자:
- 관리자는 브랜드를 등록/수정/삭제할 수 있다.
- 관리자는 상품을 등록/수정/삭제할 수 있다.
- 관리자는 상품 상세 정보를 조회할 수 있다.
- 관리자는 주문 목록을 조회할 수 있다.
- 관리자는 단일 주문 상세 정보를 조회할 수 있다.
- 관리자는 PENDING 상태의 주문을 승인할 수 있다.
- 브랜드 삭제 시 해당 브랜드의 상품은 함께 삭제된다.


[비기능 요구사항]

- 비밀번호는 암호화하여 저장한다.
- 주문과 재고 차감은 트랜잭션으로 처리한다.
- 좋아요는 중복 등록을 방지한다.
- 삭제는 soft delete 정책을 따른다.
- 모든 조회 API는 페이징을 지원한다.
- 장바구니 최대 상품 개수: 100개
- 비밀번호 암호화 알고리즘: BCrypt
- 인증 방식: 헤더 기반 인증 (X-Loopers-LoginId, X-Loopers-LoginPw)





