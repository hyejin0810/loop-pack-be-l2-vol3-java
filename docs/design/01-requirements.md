# Requirements(요구사항)
🎯 핵심 흐름
회원가입 → 상품 둘러보기 → 좋아요 → 여러 상품 한번에 주문 (재고 차감)

🔐 인증

고객: /api/v1 + 헤더(X-Loopers-LoginId, X-Loopers-LoginPw)
어드민: /api-admin/v1 + 헤더(X-Loopers-Ldap: loopers.admin)
실제 인증 로직 구현 안 함


📌 도메인별 API
👤 유저

회원가입 / 내 정보 조회 / 비밀번호 변경

🏷 브랜드 & 상품
고객:

브랜드 조회
상품 목록 조회 (필터: brandId, 정렬: latest/price_asc/likes_desc, 페이징)
상품 상세 조회

어드민:

브랜드 CRUD (삭제 시 해당 상품도 삭제)
상품 CRUD (등록 시 브랜드 필수, 수정 시 브랜드 변경 불가)

❤️ 좋아요

좋아요 등록/취소
내가 좋아요한 상품 목록

🧾 주문
- 고객:

주문 요청 (여러 상품 한번에)
내 주문 목록 조회 (기간 필터)
주문 상세 조회

- 어드민:

전체 주문 목록
주문 상세 조회


⚠️ 핵심 정책
1. 주문 시 반드시 보장

✅ 상품 정보 스냅샷 저장 (주문 당시 가격/정보 보존)
✅ 재고 확인 및 차감

2. 제약사항
브랜드 삭제 → 상품도 삭제
상품 등록 → 브랜드 미리 존재해야 함
상품 수정 → 브랜드 변경 불가
좋아요 → 유저당 상품 1개에 1번만

🔴 정책 질문 (Policy)
A. 쿠폰 종류

할인 방식

정액 할인? (예: 5,000원 할인)
정률 할인? (예: 10% 할인)
둘 다?


적용 범위

전체 상품 쿠폰?
특정 브랜드 쿠폰?
특정 카테고리 쿠폰?
특정 상품 쿠폰?



B. 쿠폰 발급

발급 방식

관리자가 생성하면 모든 유저가 자동 발급?
유저가 직접 다운로드?
이벤트 코드 입력?


발급 제한

1인당 1번만?
선착순 제한? (예: 100명까지)
무제한?



C. 쿠폰 사용

사용 조건

최소 주문 금액? (예: 50,000원 이상 구매 시)
유효 기간?
중복 사용 가능?


사용 시점

주문 시 자동 적용?
유저가 선택?


사용 제한

1회용? (사용하면 소멸)
재사용 가능?



D. 주문과의 관계

주문 취소 시

쿠폰 복구?
쿠폰 소멸?


스냅샷

주문 시 쿠폰 정보도 스냅샷 저장?




2️⃣ 일반적인 쿠폰 정책 (추천)
위 질문에 대해 가장 일반적인 이커머스 정책을 가정하고 설계하겠습니다.
📌 가정한 정책
질문선택이유할인 방식정액 + 정률 둘 다유연성적용 범위전체 주문 금액단순함 (1차 구현)발급 방식유저가 직접 다운로드능동적 참여발급 제한1인당 1번중복 방지최소 주문 금액있음남용 방지유효 기간있음긴급성 부여중복 사용불가 (1개만)단순함1회용1회용일반적주문 취소 시쿠폰 복구유저 편의







3. 미구현 (추후 확장)
쿠폰
결제
랭킹/추천
-------------------------------------------------
결정 필요한 정책
1) 주문: 재고부족시 전체 실패?부분성고?
2) 스냅샷: 상품명/가격/브랜드/이미지
3) 삭제:SOFT DELTE/Hard dlete
4) 좋아요: 중복요청시 에러? 멱등처리?
5) 조회:상품조회시 좋아요 정보 포함여부